<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Aeson_encode (bs_aeson.Aeson_encode)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../">Up</a> – <a href="../">bs_aeson</a> &#x00BB; Aeson_encode</nav><h1>Module <code>Aeson_encode</code></h1><p>Provides functions for encoding a JSON data structure</p></header><dl><dt class="spec type" id="type-encoder"><a href="#type-encoder" class="anchor"></a><code><span class="keyword">type</span> encoder('a)</code><code> = <span class="type-var">'a</span> <span>=&gt;</span> Js.Json.t</code>;</dt><dd><p>The type of a encoder combinator</p></dd></dl><dl><dt class="spec external" id="val-null"><a href="#val-null" class="anchor"></a><code><span class="keyword">let</span> null: Js.Json.t;</code></dt><dd><p><code>null</code> is the singleton null JSON value</p></dd></dl><dl><dt class="spec external" id="val-string"><a href="#val-string" class="anchor"></a><code><span class="keyword">let</span> string: string <span>=&gt;</span> Js.Json.t;</code></dt><dd><p><code>string s</code> makes a JSON string of the <code>string</code> <code>s</code></p></dd></dl><dl><dt class="spec external" id="val-float"><a href="#val-float" class="anchor"></a><code><span class="keyword">let</span> float: float <span>=&gt;</span> Js.Json.t;</code></dt><dd><p><code>float n</code> makes a JSON number of the <code>float</code> <code>n</code></p></dd></dl><dl><dt class="spec external" id="val-int"><a href="#val-int" class="anchor"></a><code><span class="keyword">let</span> int: int <span>=&gt;</span> Js.Json.t;</code></dt><dd><p><code>int n</code> makes a JSON number of the <code>int</code> <code>n</code></p></dd></dl><dl><dt class="spec external" id="val-int32"><a href="#val-int32" class="anchor"></a><code><span class="keyword">let</span> int32: int32 <span>=&gt;</span> Js.Json.t;</code></dt><dd><p><code>int32 n</code> makes a JSON number of the <code>int32</code> <code>n</code></p></dd></dl><dl><dt class="spec external" id="val-int64_to_array"><a href="#val-int64_to_array" class="anchor"></a><code><span class="keyword">let</span> int64_to_array: int64 <span>=&gt;</span> Js.Json.t;</code></dt><dd><p><code>int64 n</code> makes a JSON number of the <code>int64</code> <code>n</code> in the format of <code>high, low</code> where high is signed and low is unsigned</p></dd></dl><dl><dt class="spec external" id="val-nativeint"><a href="#val-nativeint" class="anchor"></a><code><span class="keyword">let</span> nativeint: nativeint <span>=&gt;</span> Js.Json.t;</code></dt><dd><p><code>nativeint n</code> makes a JSON number of the <code>nativeint</code> <code>n</code></p></dd></dl><dl><dt class="spec external" id="val-bool"><a href="#val-bool" class="anchor"></a><code><span class="keyword">let</span> bool: bool <span>=&gt;</span> Js.Json.t;</code></dt><dd><p><code>bool b</code> makes a JSON boolean of the <code>Js.bool</code> <code>b</code></p></dd></dl><dl><dt class="spec value" id="val-nullable"><a href="#val-nullable" class="anchor"></a><code><span class="keyword">let</span> nullable: <a href="#type-encoder">encoder</a>(<span class="type-var">'a</span>) <span>=&gt;</span> option(<span class="type-var">'a</span>) <span>=&gt;</span> Js.Json.t;</code></dt><dd><p><code>nullable encoder option</code> returns either the encoded value or <code>Js.Json.null</code></p></dd></dl><dl><dt class="spec value" id="val-withDefault"><a href="#val-withDefault" class="anchor"></a><code><span class="keyword">let</span> withDefault: Js.Json.t <span>=&gt;</span> <a href="#type-encoder">encoder</a>(<span class="type-var">'a</span>) <span>=&gt;</span> option(<span class="type-var">'a</span>) <span>=&gt;</span> Js.Json.t;</code></dt><dd><p><code>withDefault default encoder option</code> returns the encoded value if present, oterwise <code>default</code></p></dd></dl><dl><dt class="spec external" id="val-dict"><a href="#val-dict" class="anchor"></a><code><span class="keyword">let</span> dict: Js_dict.t(Js.Json.t) <span>=&gt;</span> Js.Json.t;</code></dt><dd><p><code>dict d</code> makes a JSON objet of the <code>Js.Dict.t</code> <code>d</code></p></dd></dl><dl><dt class="spec value" id="val-object_"><a href="#val-object_" class="anchor"></a><code><span class="keyword">let</span> object_: list((string, Js.Json.t)) <span>=&gt;</span> Js.Json.t;</code></dt><dd><p><code>object_ props</code> makes a JSON objet of the <code>props</code> list of properties</p></dd></dl><dl><dt class="spec external" id="val-array"><a href="#val-array" class="anchor"></a><code><span class="keyword">let</span> array: array(Js.Json.t) <span>=&gt;</span> Js.Json.t;</code></dt><dd><p><code>array a</code> makes a JSON array of the <code>Js.Json.t array</code> <code>a</code></p></dd></dl><dl><dt class="spec value" id="val-optional"><a href="#val-optional" class="anchor"></a><code><span class="keyword">let</span> optional: <a href="#type-encoder">encoder</a>(<span class="type-var">'a</span>) <span>=&gt;</span> option(<span class="type-var">'a</span>) <span>=&gt;</span> Js.Json.t;</code></dt><dd><p><code>optional encoder a</code> returns the encoded value of Some, or Null if Nothing</p></dd></dl><dl><dt class="spec value" id="val-date"><a href="#val-date" class="anchor"></a><code><span class="keyword">let</span> date: <a href="#type-encoder">encoder</a>(Js_date.t);</code></dt><dd><p><code>date d</code> makes a JSON string of the <code>date</code> <code>d</code></p></dd></dl><dl><dt class="spec value" id="val-list"><a href="#val-list" class="anchor"></a><code><span class="keyword">let</span> list: <a href="#type-encoder">encoder</a>(<span class="type-var">'a</span>) <span>=&gt;</span> <a href="#type-encoder">encoder</a>(list(<span class="type-var">'a</span>));</code></dt><dd><p><code>list encoder l</code> makes a JSON array of the <code>list</code> <code>l</code> using the given <code>encoder</code></p></dd></dl><aside><p>The functions below are specialized for specific array type which happened to be already JSON object in the BuckleScript runtime. Therefore they are more efficient (constant time rather than linear conversion).</p></aside><dl><dt class="spec value" id="val-pair"><a href="#val-pair" class="anchor"></a><code><span class="keyword">let</span> pair: <a href="#type-encoder">encoder</a>(<span class="type-var">'a</span>) <span>=&gt;</span> <a href="#type-encoder">encoder</a>(<span class="type-var">'b</span>) <span>=&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <span>=&gt;</span> Js.Json.t;</code></dt><dt class="spec value" id="val-tuple2"><a href="#val-tuple2" class="anchor"></a><code><span class="keyword">let</span> tuple2: <a href="#type-encoder">encoder</a>(<span class="type-var">'a</span>) <span>=&gt;</span> <a href="#type-encoder">encoder</a>(<span class="type-var">'b</span>) <span>=&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <span>=&gt;</span> Js.Json.t;</code></dt><dt class="spec value" id="val-tuple3"><a href="#val-tuple3" class="anchor"></a><code><span class="keyword">let</span> tuple3: <a href="#type-encoder">encoder</a>(<span class="type-var">'a</span>) <span>=&gt;</span> <a href="#type-encoder">encoder</a>(<span class="type-var">'b</span>) <span>=&gt;</span> <a href="#type-encoder">encoder</a>(<span class="type-var">'c</span>) <span>=&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>) <span>=&gt;</span> Js.Json.t;</code></dt><dt class="spec value" id="val-tuple4"><a href="#val-tuple4" class="anchor"></a><code><span class="keyword">let</span> tuple4: <a href="#type-encoder">encoder</a>(<span class="type-var">'a</span>) <span>=&gt;</span> <a href="#type-encoder">encoder</a>(<span class="type-var">'b</span>) <span>=&gt;</span> <a href="#type-encoder">encoder</a>(<span class="type-var">'c</span>) <span>=&gt;</span> <a href="#type-encoder">encoder</a>(<span class="type-var">'d</span>) <span>=&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>) <span>=&gt;</span> Js.Json.t;</code></dt><dt class="spec value" id="val-tuple5"><a href="#val-tuple5" class="anchor"></a><code><span class="keyword">let</span> tuple5: <a href="#type-encoder">encoder</a>(<span class="type-var">'a</span>) <span>=&gt;</span> <a href="#type-encoder">encoder</a>(<span class="type-var">'b</span>) <span>=&gt;</span> <a href="#type-encoder">encoder</a>(<span class="type-var">'c</span>) <span>=&gt;</span> <a href="#type-encoder">encoder</a>(<span class="type-var">'d</span>) <span>=&gt;</span> <a href="#type-encoder">encoder</a>(<span class="type-var">'e</span>) <span>=&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>) <span>=&gt;</span> Js.Json.t;</code></dt><dt class="spec value" id="val-tuple6"><a href="#val-tuple6" class="anchor"></a><code><span class="keyword">let</span> tuple6: <a href="#type-encoder">encoder</a>(<span class="type-var">'a</span>) <span>=&gt;</span> <a href="#type-encoder">encoder</a>(<span class="type-var">'b</span>) <span>=&gt;</span> <a href="#type-encoder">encoder</a>(<span class="type-var">'c</span>) <span>=&gt;</span> <a href="#type-encoder">encoder</a>(<span class="type-var">'d</span>) <span>=&gt;</span> <a href="#type-encoder">encoder</a>(<span class="type-var">'e</span>) <span>=&gt;</span> <a href="#type-encoder">encoder</a>(<span class="type-var">'f</span>) <span>=&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>, <span class="type-var">'f</span>) <span>=&gt;</span> Js.Json.t;</code></dt><dt class="spec value" id="val-result"><a href="#val-result" class="anchor"></a><code><span class="keyword">let</span> result: <a href="#type-encoder">encoder</a>(<span class="type-var">'a</span>) <span>=&gt;</span> <a href="#type-encoder">encoder</a>(<span class="type-var">'b</span>) <span>=&gt;</span> Belt.Result.t(<span class="type-var">'a</span>, <span class="type-var">'b</span>) <span>=&gt;</span> Js.Json.t;</code></dt><dt class="spec value" id="val-either"><a href="#val-either" class="anchor"></a><code><span class="keyword">let</span> either: <a href="#type-encoder">encoder</a>(<span class="type-var">'l</span>) <span>=&gt;</span> <a href="#type-encoder">encoder</a>(<span class="type-var">'r</span>) <span>=&gt;</span> Aeson_compatibility.Either.t(<span class="type-var">'l</span>, <span class="type-var">'r</span>) <span>=&gt;</span> Js.Json.t;</code></dt><dt class="spec value" id="val-singleEnumerator"><a href="#val-singleEnumerator" class="anchor"></a><code><span class="keyword">let</span> singleEnumerator: <a href="#type-encoder">encoder</a>(<span class="type-var">'a</span>);</code></dt><dd><p><code>singleEnumerator a</code> takes a value and returns an empty JSON array. Useful for encoding a single enumerator that matches Haskell aeson.</p></dd></dl><dl><dt class="spec external" id="val-stringArray"><a href="#val-stringArray" class="anchor"></a><code><span class="keyword">let</span> stringArray: array(string) <span>=&gt;</span> Js.Json.t;</code></dt><dd><p><code>stringArray a</code> makes a JSON array of the <code>string array</code> <code>a</code></p></dd></dl><dl><dt class="spec external" id="val-numberArray"><a href="#val-numberArray" class="anchor"></a><code><span class="keyword">let</span> numberArray: array(float) <span>=&gt;</span> Js.Json.t;</code></dt><dd><p><code>numberArray a</code> makes a JSON array of the <code>float array</code> <code>a</code></p></dd></dl><dl><dt class="spec external" id="val-boolArray"><a href="#val-boolArray" class="anchor"></a><code><span class="keyword">let</span> boolArray: array(bool) <span>=&gt;</span> Js.Json.t;</code></dt><dd><p><code>boolArray</code> makes a JSON array of the <code>bool array</code> <code>a</code></p></dd></dl></div></body></html>